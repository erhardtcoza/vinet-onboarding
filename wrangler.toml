name = "splynx-onboarding"
main = "src/index.js"
compatibility_date = "2025-08-05"

[[d1_databases]]
binding = "DB"
database_name = "vinet-onboarding-db"
database_id = "d273502b-7566-4934-abc9-ae1e38b7ccdc"

[[kv_namespaces]]
binding = "ONBOARD_KV"
id = "fc2d1cfd11a84226b9de86f8957be5d3"

[[r2_buckets]]
binding = "R2_UPLOADS"
bucket_name = "vinet-onboarding-uploads"

[vars]
SPLYNX_API = "https://splynx.vinet.co.za/api/2.0"
SPLYNX_AUTH = "NTcxMDRhNGJjNjhhY2Y2MjRkMDliMmYwOTQ1ZTI1M2E6N2UyOTNmY2QyNzBjODJmOTdjNWQzODUwZjdhM2I1MTE="
API_URL = "https://onboard.vinet.co.za"
PHONE_NUMBER_ID = "104043025887306"
WHATSAPP_TOKEN = "EAALpZCXUFpXsBO9tCyAuJUdO9MObRocFxZAZCJlxheOZBNp8CTvDn1Was9K48VkK3G3QZADZCYKur24nnXe9FNmwaCuttnzgOezJQi9tZApBZCVaq9ZCsID3FxlvJb6E1p7uLZADEtNoRRpiLGL3UCCY0ZBVp4YxxZC7TL3iIGvaqDH6hwQbZAIToVJeVceeAQjEkyxQZD"
VERIFY_TOKEN = "vinet-whatsapp"
BUSINESS_ID = "416413345495591"
WHATSAPP_TEMPLATE_NAME = "vinetotp"
WHATSAPP_TEMPLATE_LANG = "en_US"
WHATSAPP_BUTTON_URL = "https://onboard.vinet.co.za"   # or any valid URL
ADMIN_IPS = "160.226.143.254"   # comma-separated; leave empty to allow all
TERMS_SERVICE_URL = "https://onboarding-uploads.vinethosting.org/vinet-master-terms.txt"
TERMS_DEBIT_URL   = "https://onboarding-uploads.vinethosting.org/vinet-debitorder-terms.txt"

# If you want PDFs generated (upload blank/fillable PDFs to R2 and set keys)
SERVICE_PDF_KEY = "pdf-templates/service-agreement-fillable.pdf"
DEBIT_PDF_KEY   = "pdf-templates/debit-order-fillable.pdf"

# Optional email via MailChannels (from domain must be verified in MC DNS)
MAIL_FROM    = "Vinet Onboarding <no-reply@vinet.co.za>"
MAIL_SUBJECT = "Your signed Vinet onboarding documents"

[observability.logs]
enabled = true
