name = "splynx-onboarding"
main = "src/index.js"
compatibility_date = "2025-08-05"

[[d1_databases]]
binding = "DB"
database_name = "vinet-onboarding-db"
database_id = "d273502b-7566-4934-abc9-ae1e38b7ccdc"

[[kv_namespaces]]
binding = "ONBOARD_KV"
id = "fc2d1cfd11a84226b9de86f8957be5d3"

[[r2_buckets]]
binding = "R2_UPLOADS"
bucket_name = "vinet-onboarding-uploads"

[vars]
SPLYNX_API = "https://splynx.vinet.co.za/api/2.0"
API_URL = "https://onboard.vinet.co.za"

PHONE_NUMBER_ID = "104043025887306"
VERIFY_TOKEN = "vinet-whatsapp"
BUSINESS_ID = "416413345495591"
WHATSAPP_TEMPLATE_NAME = "vinetotp"
WHATSAPP_TEMPLATE_LANG = "en_US"
WHATSAPP_BUTTON_URL = "https://onboard.vinet.co.za"

# (ipAllowed is currently hard-coded to your ASN; this is here for future use)
ADMIN_IPS = "160.226.143.254,160.226.128.0/20, 173.245.48.0/20, 103.21.244.0/22, 103.22.200.0/22, 103.31.4.0/22, 141.101.64.0/18, 108.162.192.0/18, 190.93.240.0/20, 188.114.96.0/20, 197.234.240.0/22, 198.41.128.0/17, 162.158.0.0/15, 104.16.0.0/13, 104.24.0.0/14, 172.64.0.0/13, 131.0.72.0/22"

TERMS_SERVICE_URL = "https://onboarding-uploads.vinethosting.org/vinet-master-terms.txt"
TERMS_DEBIT_URL   = "https://onboarding-uploads.vinethosting.org/vinet-debitorder-terms.txt"

EFT_BANK_NAME    = "First National Bank (FNB/RMB)"
EFT_ACCOUNT_NAME = "Vinet Internet Solutions"
EFT_ACCOUNT_NO   = "62757054996"
EFT_BRANCH_CODE  = "250655"
EFT_REFERENCE    = "SPLYNX-ID"
EFT_NOTES        = "Please remember that all accounts are payable on or before the 1st of every month."

# PDF templates used for the final Agreements
TEMPLATE_MSA_URL = "https://onboarding-uploads.vinethosting.org/templates/VINET_MSA.pdf"
TEMPLATE_DO_URL  = "https://onboarding-uploads.vinethosting.org/templates/VINET_DO.pdf"

[observability.logs]
enabled = true
